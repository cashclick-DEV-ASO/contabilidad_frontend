import{C as t,N as m,R as p,U as u,a as b,L as g,c as C,S as P,g as x,P as v,d as A,T,A as f,f as w,h as O,i as E,j as I,F as S,l as _,e as L,k as j,n as M}from"./componente-990ccac5.js";class D extends t{constructor(){return super("nav",{clase:m}),this.rutas=p,this.main=null,this}crearRutas(e=this.rutas,i=!1,n=this.getComponente()){const o=document.createElement("ul");o.classList.add(i?u:b),Object.keys(e).forEach(a=>{const{visible:d,titulo:c,vista:l}=e[a];if(d===!1)return;const r=document.createElement("li");r.classList.add(i?g:C),r.innerHTML=c,o.appendChild(r),typeof l=="object"?this.crearRutas(l,!0,r):r.addEventListener("click",()=>this.cambiarVista(l))}),n.appendChild(o)}cambiarVista(e){this.main.setContenido(e)}setMain(e){return this.main=e,this}mostrar(){return this.crearRutas(),this.getComponente()}}class R extends t{constructor(){return super("section",{clase:"inicio"}),this.inicia()}inicia(){return this.mensaje=new t("span",{clase:"msjBienvenida"}),this.imagen=new t("img",{clase:"logo"}),this}configura(){return this.mensaje.setTexto("Bienvenido al sistema de gestion contable integral."),this.imagen.setPropiedad("src","../images/Cashclick_logo.svg"),this.imagen.setPropiedad("alt","Logo Cashclick"),this}crea(){return this.addHijos([this.mensaje.getComponente(),this.imagen.getComponente()]),this}mostrar(){return this.configura().crea().getComponente()}}class y extends t{constructor(){return super("section",{clase:P}),this.periodoActual=x(),this.estilos={PERIODO_ESTILO_1:v,PERIODO_ESTILO_2:A},this.inicia()}setEstilo(e){this.setClase(e)}setEstilo1(){this.setEstilo(this.estilos.PERIODO_ESTILO_1)}setEstilo2(){this.setEstilo(this.estilos.PERIODO_ESTILO_2)}inicia(){return this.lblPeriodo=new t("label",{clase:T}),this.lblAnioPeriodo=new t("label",{id:f}),this.lblMesPeriodo=new t("label",{id:w}),this.txtAnioPeriodo=new t("input",{id:O}),this.txtMesPeriodo=new t("input",{id:E}),this}configura(){return this.lblPeriodo.setTexto("Periodo"),this.lblAnioPeriodo.setTexto("Año"),this.lblAnioPeriodo.setPropiedad("htmlFor",this.txtAnioPeriodo.getID()),this.lblMesPeriodo.setTexto("Mes"),this.lblMesPeriodo.setPropiedad("htmlFor",this.txtMesPeriodo.getID()),this.txtAnioPeriodo.setPropiedad("type","number"),this.txtAnioPeriodo.setPropiedad("min",I),this.txtAnioPeriodo.setPropiedad("max",this.periodoActual.anio),this.txtAnioPeriodo.setValor(this.periodoActual.anio),this.txtMesPeriodo.setPropiedad("type","number"),this.txtMesPeriodo.setPropiedad("min",1),this.txtMesPeriodo.setPropiedad("max",12),this.txtMesPeriodo.setValor(this.periodoActual.mes),this}crea(){return this.addHijos([this.lblPeriodo.getComponente(),this.lblAnioPeriodo.getComponente(),this.txtAnioPeriodo.getComponente(),this.lblMesPeriodo.getComponente(),this.txtMesPeriodo.getComponente()]),this}mostrar(){return this.configura().crea().getComponente()}ocultar(){this.removeComponente()}}class H extends t{constructor({formato:e=".txt",multiple:i=!1}={}){return super("section",{clase:"selArchivo"}),this.formato=e,this.multiple=i,this.inicia()}inicia(){return this.titulo=new t("label",{id:"titulo"}),this.lblArchivo=new t("label",{id:"lblArchivo"}),this.lblRuta=new t("label",{id:"lblRuta"}),this.selArchivo=new t("input",{id:"selArchivo"}),this.btnSeleccionar=new t("button",{id:"btnSeleccionar"}),this}configura(){return this.titulo.setTexto("Archivo"),this.lblArchivo.setTexto("Seleccionar"),this.lblArchivo.setPropiedad("htmlFor",this.selArchivo.getID()),this.selArchivo.setListener("change",()=>{console.log(this.selArchivo.getComponente().files[0].name),this.lblRuta.setTexto(this.selArchivo.getComponente().files[0].name)}),this.selArchivo.setPropiedad("type","file"),this.selArchivo.setPropiedad("accept",this.formato),this.selArchivo.setPropiedad("required",!0),this.selArchivo.setPropiedad("multiple",this.multiple),this.btnSeleccionar.setTexto("Abrir"),this}crear(){return this.addHijos([this.titulo.getComponente(),this.lblRuta.getComponente(),this.lblArchivo.getComponente(),this.selArchivo.getComponente(),this.btnSeleccionar.getComponente()]),this}mostrar(){return this.configura().crear().getComponente()}}class F extends t{constructor(){return super("section",{clase:"tablaDatos"}),this.inicia()}parseaJSON(e){const i=Object.keys(e[0]),n=e.map(o=>{i.map(a=>o[a])});return this.tablaTmp=this.contruirTabla(i,n),this}parseaTexto(e){const i=e.split(`\r
`),n=i[0].split(" "),o=i.slice(1).map(a=>a.split(" "));return this.tablaTmp=this.contruirTabla(n,o),this}contruirTabla(e=[],i=[],n=""){const o=new t("table",{id:"tabla"}),a=new t("thead",{clase:"tblEncabezados"}),d=new t("tbody",{clase:"tblCuerpo"});return a.addHijo(new t("tr",{clase:"filaEncabezados"}).addHijos(e.map(c=>new t("th",{clase:"celdaEncabezado"}).setTexto(c).getComponente())).getComponente()),d.addHijos(i.map(c=>{const l=new t("tr",{clase:"fila"});return l.addHijos(c.map(r=>new t("td",{clase:"celda"}).setTexto(r).getComponente())),l.getComponente()})),o.addHijos([a.getComponente(),d.getComponente()]),o}tablaSinDatos(){return this.tablaTmp=new t("div",{clase:"tablaSinDatos"}),this.tablaTmp.setTexto("No hay datos para mostrar"),this.tablaTmp.setPropiedad("style","width: 100%;height: 100%;text-align: center;font-weight: bold;inset: 0px;margin: auto;display: flex;align-items: center;justify-content: center;"),this}actualizaTabla(){return this.tablaTmp.getComponente().rows.length==0&&this.tablaSinDatos(),this.tabla.removeComponente(),this.tabla=this.tablaTmp,this.contenedor.addHijo(this.tabla.getComponente()),this}inicia(){return this.controles=new t("section",{clase:"controles"}),this.lblConcepto=new t("label",{clase:"lblConcepto parametros"}),this.selConcepto=new t("select",{clase:"selConcepto parametros"}),this.lblFiltro=new t("label",{clase:"lblFiltro parametros"}),this.txtFiltro=new t("input",{clase:"txtFiltro parametros"}),this.btnFiltro=new t("button",{clase:"btnFiltro parametros"}),this.contenedor=new t("div",{clase:"contenedorTabla"}),this.tablaSinDatos(),this.tabla=this.tablaTmp,this}configura(){return this.lblConcepto.setTexto("Concepto"),this.selctionVacio(),this.lblFiltro.setTexto("Filtro"),this.btnFiltro.setTexto("Filtrar"),this}crear(){return this.addHijos([this.controles.addHijos([this.lblConcepto.getComponente(),this.selConcepto.getComponente(),this.lblFiltro.getComponente(),this.txtFiltro.getComponente(),this.btnFiltro.getComponente()]).getComponente(),this.contenedor.addHijo(this.tabla.getComponente()).getComponente()]),this}mostrar(){return this.configura().crear().getComponente()}selctionVacio(){const e=new t("option",{clase:"opcionPredeterminada"});e.setTexto("Seleccionar"),e.setValor("Seleccionar"),this.selConcepto.addHijo(e.getComponente())}}class N extends t{constructor(){return super("div",{clase:"trnBancos"}),this.inicia()}inicia(){return this.selPeriodo=new y,this.selArchivo=new H({formato:S}),this.selLayout=new t("seleccion",{clase:"trnBnkLayout"}),this.tabla=new F,this}configura(){return this.selPeriodo.setEstilo2(),this.selArchivo.btnSeleccionar.setListener("click",()=>{const e=this.selArchivo.selArchivo.getComponente().files[0],i=new FileReader;i.onload=n=>{const o=n.target.result;this.tabla.parseaTexto(o).actualizaTabla()},i.readAsText(e),alert("Leyendo archivo...")}),this}crea(){return this.addHijos([this.selPeriodo.mostrar(),this.selArchivo.mostrar(),this.tabla.mostrar()]),this}mostrar(){return this.configura().crea().getComponente()}}class B extends t{constructor(){return super("div",{clase:"trnDWH"}),this.setTexto("<h1>Vista en construcción.</h1>"),this}mostrar(){return this.getComponente()}}class h extends t{constructor(){return super("section",{clase:"mambu"}),this.setTexto("<h1>Vista en construcción.</h1>"),this.setPropiedad("style","width: 100%;height: 100%;text-align: center;font-weight: bold;inset: 0px;margin: auto;display: flex;align-items: center;justify-content: center;"),this}mostrar(){return this.getComponente()}}class V extends t{constructor(){return super("section",{clase:"OOPS"}),this.setTexto("<h1>Oops....!</h1><p>Esta pagina no existe</p><small><small><small>ni existira =)</small></small></small><p>Por favor, regrese al inicio</p>"),this.setPropiedad("style","width: 100%;height: 100%;text-align: center;font-weight: bold;inset: 0px;margin: auto;display: flex;align-items: center;justify-content: center;flex-direction: column;"),this}mostrar(){return this.getComponente()}}class k extends t{constructor(){return super("main",{clase:"main"}),this.vistas={Inicio:R,Bancos:N,DWH:B,Mambu:h,Conciliacion:h,ResConciliacion:h,RecInteres:h,Configuracion:h,OOPS:V},this.activa=new(this.vistas[_("vista")]??this.vistas.Inicio),this}setContenido(e){this.limpiar(),this.activa=new(this.vistas[e]||this.vistas.OOPS),this.addHijo(this.activa.mostrar()),L("vista",e)}limpiar(){this.activa.removeComponente()}mostrar(){return this.addHijo(this.activa.mostrar()),this.getComponente()}}class U extends t{constructor(){return super("footer",{clase:j}),this}configura(){return this.setTexto(M),this}mostrar(){return this.configura().getComponente()}}class z extends t{constructor(){return super(document.createDocumentFragment()),this.inicia()}inicia(){return this.menu=new D,this.main=new k,this.pie=new U,this}configura(){return this.menu.setMain(this.main),this}crea(){return this.addHijos([this.menu.mostrar(),this.main.mostrar(),this.pie.mostrar()]),this}mostrar(){return this.configura().crea().getComponente()}}const W=()=>{document.querySelector(".contenedor").appendChild(new z().mostrar())};W();
