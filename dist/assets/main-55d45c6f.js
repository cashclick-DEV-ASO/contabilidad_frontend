import{C as t,a as d,F as u,l as p,e as b,N as g,U as C,b as x,L as P,c as T,P as w,d as f,S as v,f as A,h as O,i as E,T as S,A as I,j as L,k as _,n as j,o as M}from"./componente-60a89e82.js";const y=new URL("/assets/Cashclick_logo-07014ac4.svg",self.location).href;class D extends t{constructor(){return super("section",{clase:"inicio"}),this.inicia()}inicia(){return this.nombre=new t("span",{clase:"msjBienvenida"}),this.imagen=new t("img",{clase:"logo"}),this.mensaje=new t("span",{clase:"msjBienvenida"}),this}configura(){return this.nombre.setTexto(`Bienvenido ${d("NOMBRE")}`),this.imagen.setPropiedad("src",y),this.imagen.setPropiedad("alt","Logo Cashclick"),this.mensaje.setTexto("al sistema de gestion contable integral."),this}crea(){return this.addHijos([this.nombre.getComponente(),this.mensaje.getComponente(),this.imagen.getComponente()]),this}mostrar(){return this.configura().crea().getComponente()}}class R extends t{constructor(){return super("div",{clase:"cargaTrnBancos"}),this.inicia()}inicia(){return this.titulo=new t("h2",{clase:"titulo"}),this.selPeriodo=new z,this.selArchivo=new V({formato:u}),this.selLayout=new t("seleccion",{clase:"layout"}),this.tabla=new q,this}configura(){this.titulo.setTexto("Registro Transacciones Bancarias"),this.selPeriodo.setEstilo2(),this.selArchivo.btnSeleccionar.setListener("click",()=>{const a=this.selArchivo.selArchivo.getComponente().files[0],i=new FileReader;i.onload=n=>{const l=n.target.result;this.tabla.parseaTexto(l).actualizaTabla()},i.readAsText(a),alert("Leyendo archivo...")});const e=new t("option");e.setTexto("Layout 1");const s=new t("option");return s.setTexto("Layout 2"),this.selLayout.addHijos([e.getComponente(),s.getComponente()]),this}crea(){return this.addHijos([this.titulo.getComponente(),this.selPeriodo.mostrar(),this.selArchivo.mostrar(),this.selLayout.getComponente(),this.tabla.mostrar()]),this}mostrar(){return this.configura().crea().getComponente()}}class H extends t{constructor(){return super("div",{clase:"logout"}),this.inicia()}inicia(){return this.titulo=new t("h3",{clase:"titulo"}),this.boton=new t("button",{clase:"boton"}),this}configura(){return this.titulo.setTexto("Seguro que desea salir?"),this.boton.setTexto("Salir"),this.boton.setListener("click",()=>{p(),window.location.href="/login"}),this}crea(){return this.addHijos([this.titulo.getComponente(),this.boton.getComponente()]),this}mostrar(){return this.configura().crea().getComponente()}}class m extends t{constructor(){return super("section",{clase:"mambu"}),this.setTexto("<h1>Vista en construcción.</h1>"),this.setPropiedad("style","width: 100%;height: 100%;text-align: center;font-weight: bold;inset: 0px;margin: auto;display: flex;align-items: center;justify-content: center;"),this}mostrar(){return this.getComponente()}}class F extends t{constructor(){return super("section",{clase:"OOPS"}),this.setTexto("<h1>Oops....!</h1><p>Esta pagina no existe</p><small><small><small>ni existirá =)</small></small></small><p>Por favor, regrese al inicio</p>"),this.setPropiedad("style","width: 100%;height: 100%;text-align: center;font-weight: bold;inset: 0px;margin: auto;display: flex;align-items: center;justify-content: center;flex-direction: column;"),this}mostrar(){return this.getComponente()}}const N={Inicio:D,RegTrnBancos:R,TrnDWH:m,TrnMambu:m,Logout:H,OOPS:F};class B extends t{constructor(){return super("main",{clase:"main"}),this.vistas=N,this.activa=new(this.vistas[d("vista")]??this.vistas.Inicio),this}setContenido(e){this.limpiar(),this.activa=new(this.vistas[e]||this.vistas.OOPS),this.addHijo(this.activa.mostrar()),b("vista",e)}limpiar(){this.activa.removeComponente()}mostrar(){return this.addHijo(this.activa.mostrar()),this.getComponente()}}class k extends t{constructor(){return super("nav",{clase:g}),this.rutas=JSON.parse(d("RUTAS")),this.main=null,this}crearRutas(e=this.rutas,s=!1,a=this.getComponente()){const i=document.createElement("ul");i.classList.add(s?C:x),Object.keys(e).forEach(n=>{const{visible:l,titulo:h,vista:c}=e[n];if(l===!1)return;const r=document.createElement("li");r.classList.add(s?P:T),r.innerHTML=h,i.appendChild(r),typeof c=="object"?this.crearRutas(c,!0,r):r.addEventListener("click",()=>this.cambiarVista(c))}),a.appendChild(i)}cambiarVista(e){this.main.setContenido(e)}setMain(e){return this.main=e,this}mostrar(){return this.crearRutas(),this.getComponente()}}class U extends t{constructor(){return super("footer",{clase:w}),this}configura(){return this.setTexto(f),this}mostrar(){return this.configura().getComponente()}}class V extends t{constructor({formato:e=".txt",multiple:s=!1}={}){return super("section",{clase:"selArchivo"}),this.formato=e,this.multiple=s,this.inicia()}inicia(){return this.titulo=new t("label",{id:"titulo"}),this.lblArchivo=new t("label",{id:"lblArchivo"}),this.lblRuta=new t("label",{id:"lblRuta"}),this.selArchivo=new t("input",{id:"selArchivo"}),this.btnSeleccionar=new t("button",{id:"btnSeleccionar"}),this}configura(){return this.titulo.setTexto("Archivo"),this.lblArchivo.setTexto("Seleccionar"),this.lblArchivo.setPropiedad("htmlFor",this.selArchivo.getID()),this.selArchivo.setListener("change",()=>{console.log(this.selArchivo.getComponente().files[0].name),this.lblRuta.setTexto(this.selArchivo.getComponente().files[0].name)}),this.selArchivo.setPropiedad("type","file"),this.selArchivo.setPropiedad("accept",this.formato),this.selArchivo.setPropiedad("required",!0),this.selArchivo.setPropiedad("multiple",this.multiple),this.btnSeleccionar.setTexto("Abrir"),this}crear(){return this.addHijos([this.titulo.getComponente(),this.lblRuta.getComponente(),this.lblArchivo.getComponente(),this.selArchivo.getComponente(),this.btnSeleccionar.getComponente()]),this}mostrar(){return this.configura().crear().getComponente()}}class z extends t{constructor(){return super("section",{clase:v}),this.periodoActual=A(),this.estilos={PERIODO_ESTILO_1:O,PERIODO_ESTILO_2:E},this.inicia()}setEstilo(e){this.setClase(e)}setEstilo1(){this.setEstilo(this.estilos.PERIODO_ESTILO_1)}setEstilo2(){this.setEstilo(this.estilos.PERIODO_ESTILO_2)}inicia(){return this.lblPeriodo=new t("label",{clase:S}),this.lblAnioPeriodo=new t("label",{id:I}),this.lblMesPeriodo=new t("label",{id:L}),this.txtAnioPeriodo=new t("input",{id:_}),this.txtMesPeriodo=new t("input",{id:j}),this}configura(){return this.lblPeriodo.setTexto("Periodo"),this.lblAnioPeriodo.setTexto("Año"),this.lblAnioPeriodo.setPropiedad("htmlFor",this.txtAnioPeriodo.getID()),this.lblMesPeriodo.setTexto("Mes"),this.lblMesPeriodo.setPropiedad("htmlFor",this.txtMesPeriodo.getID()),this.txtAnioPeriodo.setPropiedad("type","number"),this.txtAnioPeriodo.setPropiedad("min",M),this.txtAnioPeriodo.setPropiedad("max",this.periodoActual.anio),this.txtAnioPeriodo.setValor(this.periodoActual.anio),this.txtMesPeriodo.setPropiedad("type","number"),this.txtMesPeriodo.setPropiedad("min",1),this.txtMesPeriodo.setPropiedad("max",12),this.txtMesPeriodo.setValor(this.periodoActual.mes),this}crea(){return this.addHijos([this.lblPeriodo.getComponente(),this.lblAnioPeriodo.getComponente(),this.txtAnioPeriodo.getComponente(),this.lblMesPeriodo.getComponente(),this.txtMesPeriodo.getComponente()]),this}mostrar(){return this.configura().crea().getComponente()}ocultar(){this.removeComponente()}}class q extends t{constructor(){return super("section",{clase:"tablaDatos"}),this.inicia()}parseaJSON(e){const s=Object.keys(e[0]),a=e.map(i=>{s.map(n=>i[n])});return this.tablaTmp=this.contruirTabla(s,a),this}parseaTexto(e){const s=e.split(`\r
`),a=s[0].split(" "),i=s.slice(1).map(n=>n.split(" "));return this.tablaTmp=this.contruirTabla(a,i),this}contruirTabla(e=[],s=[],a=""){const i=new t("table",{id:"tabla"}),n=new t("thead",{clase:"tblEncabezados"}),l=new t("tbody",{clase:"tblCuerpo"});return n.addHijo(new t("tr",{clase:"filaEncabezados"}).addHijos(e.map(h=>new t("th",{clase:"celdaEncabezado"}).setTexto(h).getComponente())).getComponente()),l.addHijos(s.map(h=>{const c=new t("tr",{clase:"fila"});return c.addHijos(h.map(r=>new t("td",{clase:"celda"}).setTexto(r).getComponente())),c.getComponente()})),i.addHijos([n.getComponente(),l.getComponente()]),i}tablaSinDatos(){return this.tablaTmp=new t("div",{clase:"tablaSinDatos"}),this.tablaTmp.setTexto("No hay datos para mostrar"),this.tablaTmp.setPropiedad("style","width: 100%;height: 100%;text-align: center;font-weight: bold;inset: 0px;margin: auto;display: flex;align-items: center;justify-content: center;"),this}actualizaTabla(){return this.tablaTmp.getComponente().rows.length==0&&this.tablaSinDatos(),this.tabla.removeComponente(),this.tabla=this.tablaTmp,this.contenedor.addHijo(this.tabla.getComponente()),this}inicia(){return this.controles=new t("section",{clase:"controles"}),this.lblConcepto=new t("label",{clase:"lblConcepto parametros"}),this.selConcepto=new t("select",{clase:"selConcepto parametros"}),this.lblFiltro=new t("label",{clase:"lblFiltro parametros"}),this.txtFiltro=new t("input",{clase:"txtFiltro parametros"}),this.btnFiltro=new t("button",{clase:"btnFiltro parametros"}),this.contenedor=new t("div",{clase:"contenedorTabla"}),this.tablaSinDatos(),this.tabla=this.tablaTmp,this}configura(){return this.lblConcepto.setTexto("Concepto"),this.selctionVacio(),this.lblFiltro.setTexto("Filtro"),this.btnFiltro.setTexto("Filtrar"),this}crear(){return this.addHijos([this.controles.addHijos([this.lblConcepto.getComponente(),this.selConcepto.getComponente(),this.lblFiltro.getComponente(),this.txtFiltro.getComponente(),this.btnFiltro.getComponente()]).getComponente(),this.contenedor.addHijo(this.tabla.getComponente()).getComponente()]),this}mostrar(){return this.configura().crear().getComponente()}selctionVacio(){const e=new t("option",{clase:"opcionPredeterminada"});e.setTexto("Seleccionar"),e.setValor("Seleccionar"),this.selConcepto.addHijo(e.getComponente())}}class J extends t{constructor(){return super(document.createDocumentFragment()),this.inicia()}inicia(){return this.menu=new k,this.main=new B,this.pie=new U,this}configura(){return this.menu.setMain(this.main),this}crea(){return this.addHijos([this.menu.mostrar(),this.main.mostrar(),this.pie.mostrar()]),this}mostrar(){return this.configura().crea().getComponente()}}const G=()=>{document.querySelector(".contenedor").appendChild(new J().mostrar())};G();
