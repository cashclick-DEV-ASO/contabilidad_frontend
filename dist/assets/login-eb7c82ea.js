import{l}from"./utils-d9a798cc.js";class r{constructor(e,t){this.elemento=e,this.claseDefault=t}addClase(e){if(typeof e=="string")return this.elemento.classList.add(e);e.forEach(t=>this.elemento.classList.add(t))}removeClase(e){if(typeof e=="string")return this.elemento.classList.remove(e);e.forEach(t=>this.elemento.classList.remove(t))}addID(e){this.elemento.id=e}removeID(){this.elemento.removeAttribute("id")}addListener(e,t){this.elemento.addEventListener(e,t)}addEstilo(e){console.log("Verificando estilos"),document.querySelectorAll("link").forEach(n=>{n.href}),console.log("Agregando estilos");const s=document.createElement("link");s.rel="stylesheet",s.href=e,document.head.appendChild(s)}mostrar(){return this.elemento.classList.length===0&&this.addClase(this.claseDefault),this.elemento}}class i extends r{constructor(e){super(document.createElement("label"),"lblDefault"),this.elemento.textContent=e}}const a=()=>{const o=document.createElement("form");o.classList.add("formulario"),o.addEventListener("submit",d);const e=new i("Inicio de sesión");e.addClase("lblTitulo"),e.addEstilo("styles/label.css"),o.appendChild(e.mostrar()),document.querySelector(".login").appendChild(o)},d=async o=>{o.preventDefault();const e=document.querySelector(".usuario").value;if(e==="")return alert("Usuario no puede estar vacío.");const t=document.querySelector(".password").value;if(t==="")return alert("Contraseña no puede estar vacía.");const s=l("api");if(!s)return alert("No se ha configurado la URL del API.");const n=await fetch(`${decodeURIComponent(s)}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e,pass:t})});console.log(n)};a();
